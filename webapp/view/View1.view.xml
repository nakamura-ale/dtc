<mvc:View
    controllerName="project11.controller.View1"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    xmlns:ra="sap.ui.table.rowmodes"
    xmlns:fb="sap.ui.comp.filterbar"
>
    <Page
        id="page"
        title="{i18n>title}"
    >
        <content>
            <VBox class="sapUiSmallMargin">
                <fb:FilterBar
                    id="filterBar1"
                    search=".onSearch"
                    showGoButton="true"
                >
                    <fb:filterItems>
                        <fb:FilterItem
                            name="ZTPINT"
                            label="{i18n>ZTPINT}"
                        >
                            <fb:control>
                                <Input id="inpZTPINT" />
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem
                            name="ZBATCH"
                            label="{i18n>ZBATCH}"
                        >
                            <fb:control>
                                <Input id="inpZBATCH" />
                            </fb:control>
                        </fb:FilterItem>
                    </fb:filterItems>
                </fb:FilterBar>
                <t:Table
                    id="tblMain"
                    rows="{local>/items}"
                    selectionMode="MultiToggle"
                    enableColumnReordering="true"
                    enableSelectAll="true"
                    visibleRowCount="10"
                    class="sapUiSizeCompact"
                    rowActionCount="1"
                >
                    <t:extension>
                        <Toolbar id="_IDGenToolbar">
                            <Title id="_IDGenTitle" text="Lotes" />
                            <ToolbarSpacer id="_IDGenToolbarSpacer" />
                            <Button id="_IDGenButton"
                                icon="sap-icon://refresh"
                                text="Reprocessar"
                                press=".onReprocessar"
                            />
                        </Toolbar>
                    </t:extension>

                    <t:columns>
                        <t:Column id="_IDGenColumn"
                            sortProperty="ZTPINT"
                            filterProperty="ZTPINT"
                            showFilterMenuEntry="true"
                            showSortMenuEntry="true"
                            label="{i18n>ZTPINT}"
                            width="200px"
                        >
                            <t:template>
                                <HBox id="_IDGenHBox" justifyContent="SpaceBetween">
                                    <Text id="_IDGenText" text="{local>ZTPINT}" />
                                    <core:Icon id="_IDGenIcon"
                                        src="sap-icon://error"
                                        color="Negative"
                                        visible="{= parseInt(${local>ZBATCH}) > 1000000000 }"
                                        tooltip="ZTPINT maior que 10!"
                                    />
                                </HBox>
                            </t:template>
                        </t:Column>
                        <t:Column id="_IDGenColumn1"
                            sortProperty="ZBATCH"
                            filterProperty="ZBATCH"
                            showFilterMenuEntry="true"
                            showSortMenuEntry="true"
                            label="{i18n>ZBATCH}"
                            width="150px"
                        >
                            <t:template>
                                <Text text="{local>ZBATCH}" />
                            </t:template>
                        </t:Column>
                        <t:Column id="_IDGenColumn2"
                            sortProperty="ZMSG"
                            filterProperty="ZMSG"
                            showFilterMenuEntry="true"
                            showSortMenuEntry="true"
                            label="{i18n>ZMSG}"
                            width="300px"
                        >
                            <t:template>
                                <Text id="_IDGenText1" text="{local>ZMSG}" />
                            </t:template>
                        </t:Column>
                    </t:columns>

                    <t:rowActionTemplate>
                        <t:RowAction id="_IDGenRowAction">
                            <t:RowActionItem id="_IDGenRowActionItem"
                                icon="sap-icon://navigation-right-arrow"
                                text="Detalhes"
                                press=".onRowActionPress"
                            />
                        </t:RowAction>
                    </t:rowActionTemplate>
                </t:Table>
            </VBox>
        </content>
    </Page>
</mvc:View>
